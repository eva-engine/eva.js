!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@eva/eva.js")):"function"==typeof define&&define.amd?define(["exports","@eva/eva.js"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).EVA=t.EVA||{},t.EVA.plugin=t.EVA.plugin||{},t.EVA.plugin.EVAX={}),t.EVA)}(this,(function(t,e){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,r,n){var o,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(i<3?o(c):i>3?o(e,r,c):o(e,r))||c);return i>3&&c&&Object.defineProperty(e,r,c),c}function i(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)c.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return c}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}var u=function(t){function r(e){var r=t.call(this,e)||this;return r.events={},r}return n(r,t),r.prototype.init=function(t){void 0===t&&(t={events:{}});var e=t.events;this.events=e||{}},r.componentName="EvaX",o([e.decorators.IDEProp],r.prototype,"events",void 0),r}(e.Component);var s=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,c){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,i||t,c),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,c=new Array(i);o<i;o++)c[o]=n[o].fn;return c},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,i,c){var a=r?r+t:t;if(!this._events[a])return!1;var u,s,f=this._events[a],p=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),p){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,o),!0;case 5:return f.fn.call(f.context,e,n,o,i),!0;case 6:return f.fn.call(f.context,e,n,o,i,c),!0}for(s=1,u=new Array(p-1);s<p;s++)u[s-1]=arguments[s];f.fn.apply(f.context,u)}else{var l,v=f.length;for(s=0;s<v;s++)switch(f[s].once&&this.removeListener(t,f[s].fn,void 0,!0),p){case 1:f[s].fn.call(f[s].context);break;case 2:f[s].fn.call(f[s].context,e);break;case 3:f[s].fn.call(f[s].context,e,n);break;case 4:f[s].fn.call(f[s].context,e,n,o);break;default:if(!u)for(l=1,u=new Array(p-1);l<p;l++)u[l-1]=arguments[l];f[s].fn.apply(f[s].context,u)}}return!0},a.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return c(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||c(this,i);else{for(var u=0,s=[],f=a.length;u<f;u++)(a[u].fn!==e||o&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);s.length?this._events[i]=1===s.length?s[0]:s:c(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&c(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}));function f(t,e){return t===e||t!=t&&e!=e}function p(t,e){for(var r=t.length;r--;)if(f(t[r][0],e))return r;return-1}var l=Array.prototype.splice;function v(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}v.prototype.clear=function(){this.__data__=[],this.size=0},v.prototype.delete=function(t){var e=this.__data__,r=p(e,t);return!(r<0)&&(r==e.length-1?e.pop():l.call(e,r,1),--this.size,!0)},v.prototype.get=function(t){var e=this.__data__,r=p(e,t);return r<0?void 0:e[r][1]},v.prototype.has=function(t){return p(this.__data__,t)>-1},v.prototype.set=function(t,e){var r=this.__data__,n=p(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var y="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h="object"==typeof y&&y&&y.Object===Object&&y,b="object"==typeof self&&self&&self.Object===Object&&self,d=h||b||Function("return this")(),_=d.Symbol,j=Object.prototype,g=j.hasOwnProperty,O=j.toString,m=_?_.toStringTag:void 0;var w=Object.prototype.toString;var A=_?_.toStringTag:void 0;function x(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":A&&A in Object(t)?function(t){var e=g.call(t,m),r=t[m];try{t[m]=void 0;var n=!0}catch(t){}var o=O.call(t);return n&&(e?t[m]=r:delete t[m]),o}(t):function(t){return w.call(t)}(t)}function S(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function E(t){if(!S(t))return!1;var e=x(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var P,z=d["__core-js_shared__"],U=(P=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";var F=Function.prototype.toString;function L(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var T=/^\[object .+?Constructor\]$/,k=Function.prototype,D=Object.prototype,I=k.toString,V=D.hasOwnProperty,C=RegExp("^"+I.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M(t){return!(!S(t)||(e=t,U&&U in e))&&(E(t)?C:T).test(L(t));var e}function R(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return M(r)?r:void 0}var B=R(d,"Map"),$=R(Object,"create");var N=Object.prototype.hasOwnProperty;var X=Object.prototype.hasOwnProperty;function W(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function q(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function G(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}W.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},W.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},W.prototype.get=function(t){var e=this.__data__;if($){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return N.call(e,t)?e[t]:void 0},W.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:X.call(e,t)},W.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$&&void 0===e?"__lodash_hash_undefined__":e,this},G.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(B||v),string:new W}},G.prototype.delete=function(t){var e=q(this,t).delete(t);return this.size-=e?1:0,e},G.prototype.get=function(t){return q(this,t).get(t)},G.prototype.has=function(t){return q(this,t).has(t)},G.prototype.set=function(t,e){var r=q(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Y(t){var e=this.__data__=new v(t);this.size=e.size}Y.prototype.clear=function(){this.__data__=new v,this.size=0},Y.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Y.prototype.get=function(t){return this.__data__.get(t)},Y.prototype.has=function(t){return this.__data__.has(t)},Y.prototype.set=function(t,e){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!B||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new G(n)}return r.set(t,e),this.size=r.size,this};var H=function(){try{var t=R(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function J(t,e,r){"__proto__"==e&&H?H(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var K=Object.prototype.hasOwnProperty;function Q(t,e,r){var n=t[e];K.call(t,e)&&f(n,r)&&(void 0!==r||e in t)||J(t,e,r)}function Z(t,e,r,n){var o=!r;r||(r={});for(var i=-1,c=e.length;++i<c;){var a=e[i],u=n?n(r[a],t[a],a,r,t):void 0;void 0===u&&(u=t[a]),o?J(r,a,u):Q(r,a,u)}return r}function tt(t){return null!=t&&"object"==typeof t}function et(t){return tt(t)&&"[object Arguments]"==x(t)}var rt=Object.prototype,nt=rt.hasOwnProperty,ot=rt.propertyIsEnumerable,it=et(function(){return arguments}())?et:function(t){return tt(t)&&nt.call(t,"callee")&&!ot.call(t,"callee")},ct=Array.isArray;var at="object"==typeof t&&t&&!t.nodeType&&t,ut=at&&"object"==typeof module&&module&&!module.nodeType&&module,st=ut&&ut.exports===at?d.Buffer:void 0,ft=(st?st.isBuffer:void 0)||function(){return!1},pt=/^(?:0|[1-9]\d*)$/;function lt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&pt.test(t))&&t>-1&&t%1==0&&t<e}function vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var yt={};function ht(t){return function(e){return t(e)}}yt["[object Float32Array]"]=yt["[object Float64Array]"]=yt["[object Int8Array]"]=yt["[object Int16Array]"]=yt["[object Int32Array]"]=yt["[object Uint8Array]"]=yt["[object Uint8ClampedArray]"]=yt["[object Uint16Array]"]=yt["[object Uint32Array]"]=!0,yt["[object Arguments]"]=yt["[object Array]"]=yt["[object ArrayBuffer]"]=yt["[object Boolean]"]=yt["[object DataView]"]=yt["[object Date]"]=yt["[object Error]"]=yt["[object Function]"]=yt["[object Map]"]=yt["[object Number]"]=yt["[object Object]"]=yt["[object RegExp]"]=yt["[object Set]"]=yt["[object String]"]=yt["[object WeakMap]"]=!1;var bt="object"==typeof t&&t&&!t.nodeType&&t,dt=bt&&"object"==typeof module&&module&&!module.nodeType&&module,_t=dt&&dt.exports===bt&&h.process,jt=function(){try{var t=dt&&dt.require&&dt.require("util").types;return t||_t&&_t.binding&&_t.binding("util")}catch(t){}}(),gt=jt&&jt.isTypedArray,Ot=gt?ht(gt):function(t){return tt(t)&&vt(t.length)&&!!yt[x(t)]},mt=Object.prototype.hasOwnProperty;function wt(t,e){var r=ct(t),n=!r&&it(t),o=!r&&!n&&ft(t),i=!r&&!n&&!o&&Ot(t),c=r||n||o||i,a=c?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var s in t)!e&&!mt.call(t,s)||c&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||lt(s,u))||a.push(s);return a}var At=Object.prototype;function xt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)}function St(t,e){return function(r){return t(e(r))}}var Et=St(Object.keys,Object),Pt=Object.prototype.hasOwnProperty;function zt(t){return null!=t&&vt(t.length)&&!E(t)}function Ut(t){return zt(t)?wt(t):function(t){if(!xt(t))return Et(t);var e=[];for(var r in Object(t))Pt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var Ft=Object.prototype.hasOwnProperty;function Lt(t){if(!S(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=xt(t),r=[];for(var n in t)("constructor"!=n||!e&&Ft.call(t,n))&&r.push(n);return r}function Tt(t){return zt(t)?wt(t,!0):Lt(t)}var kt="object"==typeof t&&t&&!t.nodeType&&t,Dt=kt&&"object"==typeof module&&module&&!module.nodeType&&module,It=Dt&&Dt.exports===kt?d.Buffer:void 0,Vt=It?It.allocUnsafe:void 0;function Ct(){return[]}var Mt=Object.prototype.propertyIsEnumerable,Rt=Object.getOwnPropertySymbols,Bt=Rt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var c=t[r];e(c,r,t)&&(i[o++]=c)}return i}(Rt(t),(function(e){return Mt.call(t,e)})))}:Ct;function $t(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var Nt=St(Object.getPrototypeOf,Object),Xt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)$t(e,Bt(t)),t=Nt(t);return e}:Ct;function Wt(t,e,r){var n=e(t);return ct(t)?n:$t(n,r(t))}function qt(t){return Wt(t,Ut,Bt)}function Gt(t){return Wt(t,Tt,Xt)}var Yt=R(d,"DataView"),Ht=R(d,"Promise"),Jt=R(d,"Set"),Kt=R(d,"WeakMap"),Qt="[object Map]",Zt="[object Promise]",te="[object Set]",ee="[object WeakMap]",re="[object DataView]",ne=L(Yt),oe=L(B),ie=L(Ht),ce=L(Jt),ae=L(Kt),ue=x;(Yt&&ue(new Yt(new ArrayBuffer(1)))!=re||B&&ue(new B)!=Qt||Ht&&ue(Ht.resolve())!=Zt||Jt&&ue(new Jt)!=te||Kt&&ue(new Kt)!=ee)&&(ue=function(t){var e=x(t),r="[object Object]"==e?t.constructor:void 0,n=r?L(r):"";if(n)switch(n){case ne:return re;case oe:return Qt;case ie:return Zt;case ce:return te;case ae:return ee}return e});var se=ue,fe=Object.prototype.hasOwnProperty;var pe=d.Uint8Array;function le(t){var e=new t.constructor(t.byteLength);return new pe(e).set(new pe(t)),e}var ve=/\w*$/;var ye=_?_.prototype:void 0,he=ye?ye.valueOf:void 0;function be(t,e,r){var n,o,i,c=t.constructor;switch(e){case"[object ArrayBuffer]":return le(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return function(t,e){var r=e?le(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?le(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,ve.exec(o))).lastIndex=o.lastIndex,i;case"[object Set]":return new c;case"[object Symbol]":return n=t,he?Object(he.call(n)):{}}}var de=Object.create,_e=function(){function t(){}return function(e){if(!S(e))return{};if(de)return de(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var je=jt&&jt.isMap,ge=je?ht(je):function(t){return tt(t)&&"[object Map]"==se(t)};var Oe=jt&&jt.isSet,me=Oe?ht(Oe):function(t){return tt(t)&&"[object Set]"==se(t)},we="[object Arguments]",Ae="[object Function]",xe="[object Object]",Se={};function Ee(t,e,r,n,o,i){var c,a=1&e,u=2&e,s=4&e;if(r&&(c=o?r(t,n,o,i):r(t)),void 0!==c)return c;if(!S(t))return t;var f=ct(t);if(f){if(c=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!a)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,c)}else{var p=se(t),l=p==Ae||"[object GeneratorFunction]"==p;if(ft(t))return function(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}(t,a);if(p==xe||p==we||l&&!o){if(c=u||l?{}:function(t){return"function"!=typeof t.constructor||xt(t)?{}:_e(Nt(t))}(t),!a)return u?function(t,e){return Z(t,Xt(t),e)}(t,function(t,e){return t&&Z(e,Tt(e),t)}(c,t)):function(t,e){return Z(t,Bt(t),e)}(t,function(t,e){return t&&Z(e,Ut(e),t)}(c,t))}else{if(!Se[p])return o?t:{};c=be(t,p,a)}}i||(i=new Y);var v=i.get(t);if(v)return v;i.set(t,c),me(t)?t.forEach((function(n){c.add(Ee(n,e,r,n,t,i))})):ge(t)&&t.forEach((function(n,o){c.set(o,Ee(n,e,r,o,t,i))}));var y=f?void 0:(s?u?Gt:qt:u?Tt:Ut)(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(y||t,(function(n,o){y&&(n=t[o=n]),Q(c,o,Ee(n,e,r,o,t,i))})),c}Se[we]=Se["[object Array]"]=Se["[object ArrayBuffer]"]=Se["[object DataView]"]=Se["[object Boolean]"]=Se["[object Date]"]=Se["[object Float32Array]"]=Se["[object Float64Array]"]=Se["[object Int8Array]"]=Se["[object Int16Array]"]=Se["[object Int32Array]"]=Se["[object Map]"]=Se["[object Number]"]=Se[xe]=Se["[object RegExp]"]=Se["[object Set]"]=Se["[object String]"]=Se["[object Symbol]"]=Se["[object Uint8Array]"]=Se["[object Uint8ClampedArray]"]=Se["[object Uint16Array]"]=Se["[object Uint32Array]"]=!0,Se["[object Error]"]=Se[Ae]=Se["[object WeakMap]"]=!1;var Pe=new Map;function ze(t,e,r,n,o,i){if(Pe.has(r)||Pe.set(r,[]),!(Pe.get(r).indexOf(t)>-1)){Pe.get(r).push(t);for(var c=t.split("."),a=r,u=c.length,s=0;s<u-1;s++){if(void 0===a[c[s]])return;a=a[c[s]]}var f=a[c[u-1]];if(e&&S(f))for(var p in f)ze(p,e,f,n,o,i);var l="_"+c[u-1];a[l]=f,Object.defineProperty(a,l,{enumerable:!1}),Object.defineProperty(a,c[u-1],{set:function(t){var r=function(t){return Ee(t,5)}(o);if(a["_"+c[u-1]]=t,i(n,r),e&&S(t))for(var s in Pe.delete(a),t)ze(s,e,t,n,o,i)},get:function(){return a["_"+c[u-1]]}})}}function Ue(t,e,r){for(var n in t)n in e&&("object"==typeof t[n]?Ue(t[n],e[n],r):(r||t[n]!==e[n])&&(t[n]=e[n]))}var Fe=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.changeList=[],e}return n(r,t),r.prototype.init=function(t){var e=(void 0===t?{store:{}}:t).store,r=void 0===e?{}:e;this.ee=new s,this.store=r,this.bindDefaultListener()},r.prototype.bindDefaultListener=function(){var t=this;this.ee.on("evax.updateStore",(function(e){t.updateStore(e)})),this.ee.on("evax.forceUpdateStore",(function(e){t.forceUpdateStore(e)}))},r.prototype.changeCallback=function(t,e){this.changeList.push({key:t,oldStore:e})},r.prototype.updateStore=function(t){Ue(this.store,t,!1)},r.prototype.forceUpdateStore=function(t){Ue(this.store,t,!0)},r.prototype.bindListener=function(t,e){var r=this;-1!==t.indexOf("store.")&&ze(t.split(".").slice(1).join("."),e,this.store,t,this.store,(function(t,e){return r.changeCallback(t,e)}))},r.prototype.update=function(){var t,r,n=this.componentObserver.clear();try{for(var o=i(n),c=o.next();!c.done;c=o.next()){var a=c.value;switch(a.type){case e.OBSERVER_TYPE.ADD:this.add(a);break;case e.OBSERVER_TYPE.REMOVE:this.remove(a)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},r.prototype.lateUpdate=function(){var t,e;try{for(var r=i(this.changeList),n=r.next();!n.done;n=r.next()){var o=n.value;this.ee.emit(o.key,this.store,o.oldStore)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.changeList=[]},r.prototype.add=function(t){var e=t.component;for(var r in e.evax=this,e.events)if(e.events[r]){this.bindListener(r,!!e.events[r].deep);var n=void 0;n=e.events[r]instanceof Function?e.events[r]:e.events[r].handler,this.ee.on(r,n.bind(e))}},r.prototype.remove=function(t){var e=t.component;for(var r in e.events)e.events[r]instanceof Function&&this.ee.off(r,e.events[r].bind(e))},r.prototype.on=function(t,e){return this.ee.on(t,e,this)},r.prototype.off=function(t,e){return this.ee.off(t,e)},r.prototype.emit=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(e=this.ee).emit.apply(e,a([t],r))},r.prototype.onDestroy=function(){},r.systemName="EvaX",r=o([e.decorators.componentObserver({EvaX:[]})],r)}(e.System),Le={Components:[u],Systems:[Fe]};t.EvaX=u,t.EvaXSystem=Fe,t.default=Le,Object.defineProperty(t,"__esModule",{value:!0})}));
